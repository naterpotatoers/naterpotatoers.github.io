---
import Card from "./Card.astro";
import TextArea from "./TextArea.astro";
import Dropdown from "../layouts/DropdownLayout.astro";

import * as about from "../content/about/about.md";
const jobs = await Astro.glob("../content/jobs/*.md");
const books = await Astro.glob("../content/books/*.md");
const projects = await Astro.glob("../content/projects/*.md");
const education = await Astro.glob("../content/education/*.md");
---

<div class="join join-vertical gap-1">
  <Dropdown title={"About"} icon={"carbon:identification"}>
    <TextArea text={about.compiledContent()} />
  </Dropdown>

  <Dropdown title={"Work Experience"} icon={"carbon:construction"}>
    {
      jobs.map((item) => {
        return (
          <Card
            title={item.frontmatter.title}
            timeframe={item.frontmatter.date}
            description={item.compiledContent()}
            tags={item.frontmatter.tags}
            org={item.frontmatter.org}
            location={item.frontmatter.location}
          />
        );
      })
    }
  </Dropdown>

  <Dropdown title={"Projects"} icon={"carbon:tools"}>
    {
      projects.map((item) => {
        return (
          <Card
            title={item.frontmatter.title}
            timeframe={item.frontmatter.date}
            description={item.compiledContent()}
            tags={item.frontmatter.tags}
            url={item.frontmatter.url}
            org={item.frontmatter.org}
            location={item.frontmatter.location}
          />
        );
      })
    }
  </Dropdown>

  <Dropdown title={"Education"} icon={"carbon:education"}>
    {
      education.map((item) => {
        return (
          <Card
            title={item.frontmatter.title}
            timeframe={item.frontmatter.date}
            description={item.compiledContent()}
            tags={item.frontmatter.tags}
            org={item.frontmatter.org}
            location={item.frontmatter.location}
          />
        );
      })
    }
  </Dropdown>

  <Dropdown title={"Books"} icon={"carbon:book"}>
    {
      books.map((item) => {
        return (
          <Card
            title={item.frontmatter.title}
            description={item.compiledContent()}
          />
        );
      })
    }
  </Dropdown>
</div>
